LAMMPS (2 Aug 2018)
# sample LAMMPS input script for diffusion of 2d LJ liquid
# mean-squared displacement via compute msd

# settings

variable	x equal 40
variable	y equal 40

variable	rho equal 0.6
variable        t equal 1.0
variable	rc equal 2.5

# problem setup

units		lj
dimension	2
atom_style	atomic
neigh_modify	delay 0 every 1

lattice         sq2 ${rho}
lattice         sq2 0.6
Lattice spacing in x,y,z = 1.82574 1.82574 1.82574
region          simbox block 0 $x 0 $y -0.1 0.1
region          simbox block 0 40 0 $y -0.1 0.1
region          simbox block 0 40 0 40 -0.1 0.1
create_box      1 simbox
Created orthogonal box = (0 0 -0.182574) to (73.0297 73.0297 0.182574)
  4 by 2 by 1 MPI processor grid
create_atoms    1 box
Created 3200 atoms
  Time spent = 0.000706911 secs

pair_style      lj/cut ${rc}
pair_style      lj/cut 2.5
pair_coeff      * * 1 1

mass            * 1.0
velocity        all create $t 97287
velocity        all create 1 97287

fix             1 all nve
fix	        2 all langevin $t $t 0.1 498094
fix	        2 all langevin 1 $t 0.1 498094
fix	        2 all langevin 1 1 0.1 498094
fix	        3 all enforce2d

# equilibration run

thermo          1000
run	        5000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 2.8
  ghost atom cutoff = 2.8
  binsize = 1.4, bins = 53 53 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair lj/cut, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/2d/newton
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 3.052 | 3.052 | 3.052 Mbytes
Step Temp E_pair E_mol TotEng Press 
       0            1     -1.56492            0   -0.5652325   -1.5346995 
    1000   0.97537833   -1.5723957            0   -0.5973222   0.92877783 
    2000   0.99008371   -1.5748206            0  -0.58504633    1.0809416 
    3000    1.0111412   -1.5848987            0  -0.57407352    1.0174297 
    4000    1.0055417   -1.5857581            0  -0.58053054   0.95647691 
    5000   0.97069905   -1.5851114            0  -0.61471567   0.90108287 
Loop time of 0.667446 on 8 procs for 5000 steps with 3200 atoms

Performance: 3236214.756 tau/day, 7491.238 timesteps/s
99.9% CPU use with 8 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.22913    | 0.24877    | 0.28382    |   3.6 | 37.27
Neigh   | 0.064419   | 0.071256   | 0.080013   |   1.7 | 10.68
Comm    | 0.103      | 0.14054    | 0.17204    |   5.5 | 21.06
Output  | 0.00010705 | 0.00013995 | 0.00021911 |   0.0 |  0.02
Modify  | 0.13457    | 0.14973    | 0.16887    |   2.6 | 22.43
Other   |            | 0.05701    |            |       |  8.54

Nlocal:    400 ave 406 max 394 min
Histogram: 1 1 0 1 0 2 1 0 1 1
Nghost:    202.5 ave 212 max 191 min
Histogram: 1 0 0 0 3 1 0 2 0 1
Neighs:    2800.88 ave 2903 max 2690 min
Histogram: 1 1 0 0 1 2 1 0 1 1

Total # of neighbors = 22407
Ave neighs/atom = 7.00219
Neighbor list builds = 599
Dangerous builds = 0

unfix		2

# data gathering run

reset_timestep  0

# factor of 4 in 2 variables is for 2d

compute         msd all msd com yes
variable        twopoint equal c_msd[4]/4/(step*dt+1.0e-6)
fix             9 all vector 10 c_msd[4]
variable        fitslope equal slope(f_9)/4/(10*dt)

thermo_style	custom step temp c_msd[4] v_twopoint v_fitslope

# only need to run for 10K steps to make a good 100-frame movie

#dump	        1 all custom 1 tmp.dump id type vx vy vz

#dump		2 all image 100 image.*.jpg type type zoom 1.6 adiam 1.2

thermo          1000
run	        100000
Per MPI rank memory allocation (min/avg/max) = 3.427 | 3.427 | 3.427 Mbytes
Step Temp c_msd[4] v_twopoint v_fitslope 
       0   0.97069905            0            0        5e+20 
    1000   0.98138076    4.0484996   0.20242494   0.20685564 
    2000   0.97606079    9.2121392   0.23030346   0.23687918 
    3000   0.97924866    14.815034   0.24691721   0.25405247 
    4000   0.98568451    20.516817   0.25646019   0.26353644 
    5000   0.97551815     27.33922   0.27339219   0.27544492 
    6000   0.98482252     34.37734   0.28647782   0.28966619 
    7000    0.9672559    41.696689   0.29783348   0.30165524 
    8000    0.9836541    48.340277   0.30212673   0.31085371 
    9000   0.99087147    56.042692   0.31134828   0.31811489 
   10000   0.99663166     63.69663   0.31848314   0.32589374 
   11000   0.97776688    71.144109   0.32338231   0.33219745 
   12000   0.98246011    78.301774   0.32625739      0.33723 
   13000   0.98788732    85.061923   0.32716124   0.34053027 
   14000   0.96872483      91.1658   0.32559214   0.34231162 
   15000   0.98955796    97.278388   0.32426129   0.34229511 
   16000   0.99855196    104.23997    0.3257499   0.34217252 
   17000   0.98600861    110.66055    0.3254722   0.34172446 
   18000   0.98696963    116.90111   0.32472531    0.3408227 
   19000    0.9881192    124.21305   0.32687644   0.34036538 
   20000   0.98527319    131.09874   0.32774685   0.34003478 
   21000   0.99015191    137.89263   0.32831579   0.33987868 
   22000   0.97972418    146.68982   0.33338595   0.34060035 
   23000   0.98911012     155.1264   0.33723129   0.34201036 
   24000   0.98810498    162.88634   0.33934653   0.34371488 
   25000   0.96961962    170.37907   0.34075814   0.34531409 
   26000   0.99118408    179.26511   0.34474059   0.34717195 
   27000   0.98515159    185.90764    0.3442734   0.34898035 
   28000   0.98951677    192.12183   0.34307469   0.35021808 
   29000    0.9832026    196.99457   0.33964581   0.35075459 
   30000   0.98449493    203.48475   0.33914124   0.35066186 
   31000   0.96585993    210.06193   0.33880956   0.35046715 
   32000   0.98758117    218.94174   0.34209646   0.35046623 
   33000   0.98875584    225.96489   0.34237104   0.35073944 
   34000   0.98007229     233.5792   0.34349882   0.35109188 
   35000   0.98415295    241.98148   0.34568783   0.35157879 
   36000   0.98101154    250.30876   0.34765106    0.3523013 
   37000   0.97606878     258.2127   0.34893608   0.35318097 
   38000   0.97220293    266.40464   0.35053242    0.3540743 
   39000     0.979783     272.8578   0.34981769   0.35496561 
   40000   0.98375673    279.87598   0.34984497   0.35558182 
   41000   0.97506523    288.07676   0.35131312   0.35618259 
   42000   0.97106749    296.11647    0.3525196   0.35698571 
   43000   0.97717259    304.46747   0.35403194    0.3577736 
   44000   0.98541435    312.57228   0.35519578   0.35865003 
   45000   0.97678287    321.82674   0.35758527   0.35958623 
   46000   0.98169719    329.78197   0.35845866   0.36062236 
   47000   0.99471466    337.11283   0.35863066   0.36158322 
   48000   0.98332437     346.0754    0.3604952   0.36255042 
   49000   0.98126947    356.11859   0.36338631    0.3636628 
   50000   0.98809751    365.65248   0.36565248   0.36496809 
   51000   0.95919516    373.91833   0.36658659   0.36628073 
   52000   0.98097913    381.26492   0.36660089   0.36752237 
   53000   0.97774072    388.81031   0.36680218   0.36863962 
   54000   0.99096915    395.56767   0.36626636   0.36961521 
   55000   0.97652739    401.72735   0.36520668   0.37038579 
   56000   0.99185306    407.28834    0.3636503   0.37094092 
   57000   0.96289342    414.75298    0.3638184   0.37130039 
   58000   0.97871716    424.69443   0.36611588   0.37180428 
   59000   0.98637393    433.14205   0.36706953   0.37239862 
   60000   0.98009845    438.14533   0.36512111   0.37288487 
   61000   0.99416712    446.08007    0.3656394   0.37321496 
   62000   0.97612483    450.90846   0.36363585   0.37345792 
   63000   0.97786531    455.36749   0.36140277   0.37344803 
   64000   0.99080668    458.04873   0.35785057   0.37313914 
   65000   0.97952497    461.31241    0.3548557    0.3725875 
   66000   0.98095955    463.91727   0.35145248   0.37174735 
   67000   0.98370788       468.93   0.34994776   0.37076942 
   68000   0.96931818    471.07765   0.34638063   0.36961868 
   69000   0.98512552    474.59146   0.34390685   0.36830908 
   70000   0.98065743    478.66071    0.3419005   0.36686789 
   71000   0.98971283    482.57357   0.33984054   0.36535224 
   72000   0.99890324    485.32018    0.3370279   0.36373174 
   73000   0.98649924    490.19497   0.33574998   0.36200692 
   74000   0.98723422    496.04991   0.33516886   0.36034919 
   75000    1.0025633     501.6313   0.33442087   0.35872052 
   76000   0.97859959    505.97813   0.33288035   0.35714939 
   77000   0.97973006    510.55334   0.33152814   0.35553808 
   78000    0.9903944    515.06966   0.33017286   0.35391584 
   79000   0.96847518    518.76483   0.32833217   0.35226287 
   80000   0.99171112    524.18127   0.32761329   0.35065267 
   81000   0.97202573    529.09959   0.32660468   0.34904364 
   82000   0.99368438    535.80271   0.32670897   0.34747913 
   83000   0.97932483    543.08233   0.32715803   0.34605097 
   84000   0.99078651    547.57861   0.32593965   0.34469765 
   85000   0.98973457    552.24581   0.32485048   0.34332115 
   86000    0.9835873     557.3493   0.32404029   0.34197018 
   87000   0.97180564    564.93434   0.32467491   0.34069702 
   88000   0.99743353    571.39837   0.32465817   0.33951258 
   89000   0.98993437    577.81703   0.32461631   0.33838511 
   90000    0.9926071    583.39378   0.32410765   0.33730429 
   91000   0.98800458    591.08741    0.3247733   0.33630505 
   92000   0.98501879    596.10133   0.32396811   0.33534725 
   93000   0.98810082    604.02652   0.32474544   0.33445545 
   94000   0.97563748    609.43676   0.32416849   0.33361404 
   95000   0.97283448    615.15754   0.32376713   0.33278044 
   96000    0.9883071    622.30912   0.32411933   0.33199212 
   97000   0.97717678    628.84457   0.32414669   0.33125729 
   98000   0.97190208    634.37377   0.32366009   0.33054877 
   99000   0.98687379    640.66666   0.32356902   0.32986014 
  100000   0.97559757    646.96406   0.32348203   0.32920186 
Loop time of 7.61838 on 8 procs for 100000 steps with 3200 atoms

Performance: 5670494.518 tau/day, 13126.145 timesteps/s
100.0% CPU use with 8 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 3.5458     | 3.6709     | 3.8234     |   4.3 | 48.19
Neigh   | 1.1363     | 1.1513     | 1.1753     |   1.0 | 15.11
Comm    | 1.5901     | 1.7017     | 1.8664     |   6.9 | 22.34
Output  | 0.0041966  | 0.0043583  | 0.0050626  |   0.4 |  0.06
Modify  | 0.63816    | 0.65537    | 0.68918    |   2.0 |  8.60
Other   |            | 0.4348     |            |       |  5.71

Nlocal:    400 ave 413 max 391 min
Histogram: 2 1 0 2 0 0 1 1 0 1
Nghost:    204.75 ave 213 max 197 min
Histogram: 1 1 0 1 0 3 0 1 0 1
Neighs:    2800.62 ave 2959 max 2661 min
Histogram: 1 1 1 2 0 0 0 1 1 1

Total # of neighbors = 22405
Ave neighs/atom = 7.00156
Neighbor list builds = 12728
Dangerous builds = 0
Total wall time: 0:00:08
